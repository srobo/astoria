Search.setIndex({docnames:["design/history","design/index","design/ipc","design/metadata","design/requirements","design/usercode_drives","development/index","implementation/consumers/astctl","implementation/consumers/astwifid","implementation/consumers/index","implementation/data_components","implementation/index","implementation/managers/astdiskd","implementation/managers/astmetad","implementation/managers/astprocd","implementation/managers/index","index","usage"],envversion:{"sphinx.domains.c":2,"sphinx.domains.changeset":1,"sphinx.domains.citation":1,"sphinx.domains.cpp":4,"sphinx.domains.index":1,"sphinx.domains.javascript":2,"sphinx.domains.math":2,"sphinx.domains.python":3,"sphinx.domains.rst":2,"sphinx.domains.std":2,"sphinx.ext.intersphinx":1,"sphinx.ext.viewcode":1,sphinx:56},filenames:["design/history.rst","design/index.rst","design/ipc.rst","design/metadata.rst","design/requirements.rst","design/usercode_drives.rst","development/index.rst","implementation/consumers/astctl.rst","implementation/consumers/astwifid.rst","implementation/consumers/index.rst","implementation/data_components.rst","implementation/index.rst","implementation/managers/astdiskd.rst","implementation/managers/astmetad.rst","implementation/managers/astprocd.rst","implementation/managers/index.rst","index.rst","usage.rst"],objects:{"astoria.common.disk_constraints":[[12,0,1,"","AndConstraint"],[12,0,1,"","Constraint"],[12,0,1,"","FalseConstraint"],[12,0,1,"","FilePresentConstraint"],[12,0,1,"","NotConstraint"],[12,0,1,"","NumberOfFilesConstraint"],[12,0,1,"","OrConstraint"],[12,0,1,"","TrueConstraint"]],"astoria.common.disk_constraints.AndConstraint":[[12,1,1,"","__init__"],[12,1,1,"","matches"]],"astoria.common.disk_constraints.Constraint":[[12,1,1,"","matches"]],"astoria.common.disk_constraints.FalseConstraint":[[12,1,1,"","matches"]],"astoria.common.disk_constraints.FilePresentConstraint":[[12,1,1,"","__init__"],[12,1,1,"","matches"]],"astoria.common.disk_constraints.NotConstraint":[[12,1,1,"","__init__"],[12,1,1,"","matches"]],"astoria.common.disk_constraints.NumberOfFilesConstraint":[[12,1,1,"","__init__"],[12,1,1,"","matches"]],"astoria.common.disk_constraints.OrConstraint":[[12,1,1,"","__init__"],[12,1,1,"","matches"]],"astoria.common.disk_constraints.TrueConstraint":[[12,1,1,"","matches"]],"astoria.common.manager_requests":[[2,0,1,"","ManagerRequest"],[2,0,1,"","RequestResponse"]],"astoria.common.manager_requests.ManagerRequest":[[2,2,1,"","sender_name"],[2,2,1,"","uuid"]],"astoria.common.manager_requests.RequestResponse":[[2,2,1,"","reason"],[2,2,1,"","success"],[2,2,1,"","uuid"]],"astoria.common.messages.astdiskd":[[12,0,1,"","DiskInfo"],[12,0,1,"","DiskManagerMessage"],[12,0,1,"","DiskType"],[12,0,1,"","DiskUUID"]],"astoria.common.messages.astdiskd.DiskInfo":[[12,2,1,"","disk_type"],[12,2,1,"","mount_path"],[12,2,1,"","uuid"]],"astoria.common.messages.astdiskd.DiskManagerMessage":[[12,2,1,"","disks"]],"astoria.common.messages.astdiskd.DiskType":[[12,2,1,"","METADATA"],[12,2,1,"","NOACTION"],[12,2,1,"","UPDATE"],[12,2,1,"","USERCODE"],[12,1,1,"","determine_disk_type"]],"astoria.common.messages.astmetad":[[13,0,1,"","Metadata"],[13,0,1,"","MetadataManagerMessage"],[13,0,1,"","RobotMode"]],"astoria.common.messages.astmetad.Metadata":[[13,0,1,"","Config"],[13,2,1,"","arch"],[13,2,1,"","arena"],[13,2,1,"","astoria_version"],[13,2,1,"","game_timeout"],[13,1,1,"","init"],[13,1,1,"","is_wifi_valid"],[13,2,1,"","kernel_version"],[13,2,1,"","libc_ver"],[13,2,1,"","marker_offset"],[13,2,1,"","mode"],[13,2,1,"","python_version"],[13,2,1,"","usercode_entrypoint"],[13,2,1,"","wifi_enabled"],[13,2,1,"","wifi_psk"],[13,2,1,"","wifi_region"],[13,2,1,"","wifi_ssid"],[13,2,1,"","zone"]],"astoria.common.messages.astmetad.Metadata.Config":[[13,2,1,"","validate_assignment"]],"astoria.common.messages.astmetad.MetadataManagerMessage":[[13,2,1,"","metadata"]],"astoria.common.messages.astmetad.RobotMode":[[13,2,1,"","COMP"],[13,2,1,"","DEV"]],"astoria.common.messages.astprocd":[[14,0,1,"","CodeStatus"],[14,0,1,"","ProcessManagerMessage"]],"astoria.common.messages.astprocd.CodeStatus":[[14,2,1,"","CRASHED"],[14,2,1,"","FINISHED"],[14,2,1,"","KILLED"],[14,2,1,"","RUNNING"],[14,2,1,"","STARTING"]],"astoria.common.messages.astprocd.ProcessManagerMessage":[[14,2,1,"","code_status"],[14,2,1,"","disk_info"]],"astoria.consumers.astwifid":[[8,0,1,"","WiFiHotspotLifeCycle"]],"astoria.consumers.astwifid.WiFiHotspotLifeCycle":[[8,2,1,"","HOSTAPD_BINARY"],[8,1,1,"","__init__"],[8,1,1,"","generate_hostapd_config"],[8,1,1,"","has_metadata_changed"],[8,1,1,"","run_hotspot"],[8,1,1,"","stop_hotspot"]],"astoria.managers.astdiskd":[[12,0,1,"","DiskManager"]],"astoria.managers.astdiskd.DiskManager":[[12,1,1,"","main"],[12,2,1,"","name"],[12,3,1,"","offline_status"],[12,1,1,"","update_state"]],"astoria.managers.astprocd":[[14,0,1,"","ProcessManager"]],"astoria.managers.astprocd.ProcessManager":[[14,2,1,"","dependencies"],[14,1,1,"","handle_astmetad_message"],[14,1,1,"","handle_disk_insertion"],[14,1,1,"","handle_disk_removal"],[14,1,1,"","handle_kill_request"],[14,1,1,"","handle_restart_request"],[14,1,1,"","main"],[14,2,1,"","name"],[14,3,1,"","offline_status"],[14,1,1,"","update_status"]]},objnames:{"0":["py","class","Python class"],"1":["py","method","Python method"],"2":["py","attribute","Python attribute"],"3":["py","property","Python property"]},objtypes:{"0":"py:class","1":"py:method","2":"py:attribute","3":"py:property"},terms:{"0":3,"1":[3,5,17],"120":17,"123":17,"1883":[6,17],"2":[3,5,12,17],"2022":16,"3":[3,6,17],"3166":5,"5":14,"6":[6,17],"8":6,"9001":6,"abstract":12,"boolean":13,"case":[5,14],"class":[2,15],"default":[12,17],"do":[2,6,17],"function":[9,10],"import":15,"int":[12,13],"long":17,"new":14,"public":[2,6],"return":[8,12,13,14,15],"static":17,"true":[5,8,12,13,15,17],"var":17,"while":8,A:[0,2,3,5,6,9,10,12,14,15,17],As:12,For:[3,7,16,17],If:[5,6,8,9,17],It:[0,2,5,7,8,10,12,14,17],No:3,Not:[0,12],On:12,The:[2,3,4,5,6,10,12,14,16,17],There:[2,13,17],These:[4,8],To:14,_:12,__init__:[8,12],__main__:15,__name__:15,_init:15,_post_connect:10,_post_disconnect:10,_pre_connect:10,_pre_disconnect:10,abc1:5,abil:4,abl:3,about:[2,12,17],abov:[4,14],access:[6,8],accident:6,accord:5,action:2,ad:13,addit:[2,13,14],after:[2,8,10,12],against:12,aim:4,alert:2,all:[0,2,3,6,17],allow:[2,4,8,12,15],along:12,alpha:5,alreadi:[5,14],also:[0,2,5,6,12],altern:6,although:[6,17],alwai:12,an:[0,2,3,4,6,7,17],andconstraint:12,ani:[2,3,8,9,10,12,13,14,15,17],anoth:[9,12],ap:8,applic:[6,10,15],ar:[2,3,4,6,8,12,13,14,15,17],arbitrarili:3,arch:13,arena:[4,13,17],arg:17,assign:6,astctl:7,astdiskd:[6,11,13,14,15,17],astmetad:[3,8,11,14,15,17],astoria:[0,1,2,3,4,5,6,7,8,10,12,13,14,15,17],astoria_vers:[2,13],astprocd:[11,15,17],asttestd:15,astwifid:[9,11],async:[8,12,14,15],asynchron:4,asyncio:[8,14,15],atlassian:6,attr:3,attribut:3,automat:[5,8,12],automount:17,avail:[2,12,14,15,17],avoid:4,await:15,b:12,background:[1,16],bar:3,base:[2,4,8,13,15,17],becom:15,bee:3,been:[4,12],befor:10,behaviour:10,between:[2,10],block_devic:12,bool:[2,8,12,13,15],both:[2,12],br0:17,branch:6,bridg:[8,17],broadcast:5,broadcast_ev:2,broadcastev:2,broadcasthelp:2,broker:[2,6,10,17],bug:4,build:6,bundl:[8,14],buster:17,c:[15,17],cach:8,cache_dir:17,calcul:14,call:[5,10,14,17],callback:[4,11],can:[2,3,4,5,6,9,10,12,13,14,15,16,17],cannot:3,captur:14,certain:12,chang:[2,6,8,12,14,15],check:[8,12,13],child:[8,14],choic:6,classmethod:[12,13],clean:14,cleanup:12,clear:2,click:15,client:2,clone:6,code:[0,3,4,6,8,14],code_crash:14,code_finish:14,code_kil:14,code_run:14,code_start:14,code_statu:14,codestatu:14,combin:12,come:8,comm:0,command:[4,6,9,11,15,16],common:[2,3,10,12,13,14,15],commun:[0,1,12,16],comp:[13,17],compar:12,compat:17,compen:2,competit:[4,5],complex:4,complianc:5,compon:[2,4,8,11,12,14,15,16,17],compos:6,concept:3,config:[13,15,17],config_fil:[12,14,15],configur:[5,8,13,16],conform:[2,3],connect:10,constaint:12,constructor:12,consum:[7,8,10,11,15,16],contain:[0,1,2,5,12,16,17],contributor:16,control:[4,5],cov:6,cover:6,coverag:6,crash:14,creat:[5,8,12],credenti:[5,8],current:[2,3,6,8,12],current_cod:5,customis:10,daemon:[13,15],data:[2,3,4,9,11,15,16,17],dbu:[0,6,12,17],debian:17,debug:[7,12],def:15,default_usercode_entrypoint:17,defin:[2,3,14],definit:2,deliv:4,depend:[2,4,6,11,14],deploi:17,deploy:17,describ:17,design:[16,17],detail:7,determin:12,determine_disk_typ:12,dev:[6,13],develop:[0,3,4,8,16],devic:5,dfeet:12,dhcp:8,diagram:14,dict:[3,12],differ:10,directori:[14,17],disabl:4,disallow:2,disconnect:[2,10],disk:[14,17],disk_constraint:12,disk_info:14,disk_typ:12,diskinfo:[12,14],diskmanag:12,diskmanagermessag:12,disktyp:12,diskuuid:12,dispatch:12,distribut:13,doc:6,docker:16,dockerfil:6,document:[7,17],doe:[2,5,6,9,12],drive:[0,1,4,13,14,16],duplic:6,dure:3,dynam:[3,8],e:[4,5],each:12,effect:3,either:12,en:5,enabl:[4,13],enable_tl:17,enable_wpa3:[8,17],enough:7,ensur:[2,6,12,14,15],enter:6,entiti:9,entrypoint:[5,10,15],env:17,environ:[3,6],equival:0,even:[3,14],event:10,event_nam:2,everi:[2,7,10],exampl:[3,5,17],example_env_var:17,exchang:2,execut:[0,6,14,16],exist:[5,6,12,14,15],explan:17,expos:6,extens:6,extract:14,f:6,facili:2,fals:[5,8,12,17],falseconstraint:12,file:[8,12,15,16,17],filenam:12,filepresentconstraint:12,filesystem:12,find:[6,12],finish:14,first:[0,3,12],flag:2,flake8:6,folder:6,follow:[4,6,13,14],foo:3,force_protocol_version_3_1:17,fork:6,format:17,found:[6,12],freedesktop:12,from:[0,3,6,8,9,12,13,14,15],full:12,futur:4,g:4,game_timeout:[13,17],gb:5,gen:16,gener:[3,6,8,16],generate_hostapd_config:8,get_event_loop:15,getlogg:15,git:6,github:6,give:3,given:[12,13],gnu:6,go:[12,14,15],goe:[12,14,15],good:[6,17],graphviz:6,guid:6,ha:[6,12,13],had:[0,13],handl:[4,8,10,14],handle_astmetad_messag:14,handle_disk_insert:14,handle_disk_remov:14,handle_kill_request:14,handle_restart_request:14,has_metadata_chang:8,hat:4,have:[2,3,4,6,12,16,17],heavi:0,help:6,here:[3,6],herein:4,high:[1,13,17],higher:6,highest:3,hive:3,hold:9,host:[6,8,17],hostapd:8,hostapd_binari:8,hotspot:8,how:12,hr:0,html:6,http:[0,5],i:[4,5],id:6,ideal:17,identif:17,identifi:[2,12],ignor:[5,13,14],immedi:2,immut:3,implement:[3,4,7,12,14,16],includ:[3,6],incorpor:4,indic:[3,13],individu:7,info:14,inform:[2,5,7,8,9,12,13,14,16,17],init:13,initi:3,initialis:[12,13],insert:[0,4,12,13,14],insid:6,inspect:7,inspir:0,instal:[0,6,17],integr:[4,6],intend:7,inter:[1,16],interact:[12,17],interfac:[4,6,8,9,11,17],introduc:3,ipc:2,is_flag:15,is_wifi_valid:13,iso:5,iso_3166:5,isol:0,issu:6,its:[2,13,15],job:12,js:4,json:[2,17],kei:[3,5],kernel_vers:13,keyboard:17,kgiwtnnmdfnd:5,kill:[8,14],kit:[0,5,8,16],languag:4,last:[2,3,12],later:17,launch:8,learn:6,least:[2,17],led:4,less:0,level:1,libc_ver:13,librari:[12,17],licenc:16,licens:16,lifecycl:8,line:[4,9,11,16],linter:6,linux:17,list:[12,16,17],listen:[2,12],live:4,load:13,local:6,locat:[14,17],log:[14,15],logger:[14,15],look:17,loop:[4,10,15],lower:3,machin:6,made:17,mai:17,main:[6,12,14,15],mainli:7,major:5,make:[4,6,9,14],manag:[0,3,6,8,9,10,11,12,13,16,17],manager_nam:2,manager_request:2,managermessag:[2,15],managerrequest:2,manifest:14,manual:6,marker_offset:13,mass:5,match:[2,8,12,14],mean:[2,4],mechan:[4,5],meet:6,member:12,messag:[3,12,13,14,15],metadata:[1,4,5,8,12,16],metadatamanagermessag:13,method:[10,12],middl:2,minim:11,mit:16,mode:[3,4,6,8,13,17],modul:[8,14],modular:[0,4],more:[13,16],mosquitto:[6,17],mount:[12,17],mount_path:12,mous:17,mqtt:[2,6,10,15,17],multipl:[2,14],must:[2,3,5,6,9,10,12,15],mutabl:3,mutat:[2,9,14,15],mvp:4,mypi:6,n:12,name:[3,12,14,15],need:[2,6,9,12,17],neg:14,negat:12,network:[5,8],newli:12,next:[2,12],noaction:12,none:[3,8,12,14,15],notconstraint:12,notic:12,now:6,nspawn:0,number:[3,6,12],numberoffilesconstraint:12,object:12,observ:12,occur:[2,6],off:4,offlin:[12,14,15],offline_statu:[12,14,15],onc:[13,17],one:[6,12,13,14],onli:[0,12,13,14],open:[0,6],oper:[6,8,17],option:[6,13,14,15,17],orconstraint:12,order:[3,12],org:[5,12],origin:[0,2],os:17,other:[4,8,12,14,15,17],our:6,out:4,output:6,outsid:17,over:[2,4,12],overlai:3,overlaid:3,overrid:[3,17],overridden:[3,5],overriden:10,overview:1,packag:[6,17],page:17,param:13,paramet:12,partial:0,pass:15,path:[12,14,15,17],pathlib:12,payload:14,peopl:16,pep:6,perform:6,persist:9,pip:6,place:17,pleas:[6,7,16],plod:4,poetri:6,point:[8,12],poll:4,popul:13,port:[0,6,17],posix:17,possibl:[4,14,17],power:4,predecessor:0,presenc:8,present:[3,12],prioriti:[2,3,13,17],process:[1,8,15,16,17],processmanag:14,processmanagermessag:14,product:17,program:[9,12,15,17],programmat:[4,12],progress:14,project:[6,16],proper:17,properti:[8,12,14,15],protocol:[2,4],prototyp:0,provid:[4,7,8],proxi:2,psk:8,pub:2,publish:[2,9,12,13,14,15],pull:6,pure:12,purpos:2,py:[5,6,17],pydant:[4,13],pytest:6,python3:6,python:[0,4,5,6,12,17],python_vers:13,read:12,real:14,reason:2,receiv:[2,4,8,12,14],recognis:17,recommend:[12,17],ref:8,refer:[4,17],refus:5,region:[5,8],regist:3,reject:2,relat:2,releas:16,relev:12,reli:[12,14,15],remot:4,remov:[12,14],repli:2,repositori:6,repres:10,request:[6,9,14],requestrespons:[2,14],requir:[1,5,6,8,9,16],resolv:[3,13],resourc:6,respons:[2,8,12,13,14],restart:[8,14],retain:2,robocon:0,robot:[0,2,3,4,16,17],robotd:0,robotmod:13,routin:[12,14,15],rtype:13,run:[2,3,4,5,8,10,13,14,15,16],run_hotspot:8,run_until_complet:15,runtim:3,s:[0,2,8,15],safe:[2,12,14,15],same:[2,17],sb:4,schema:[2,3,4],scope:17,script:0,second:[3,12,14],section:1,see:[7,13,16,17],self:15,send:14,sender_nam:2,sent:2,serv:6,set:[3,4,8,13,16],setup:17,shelf:4,shell:6,should:[2,3,5,6,7,9,12,14,15,17],sigchld:14,sigkil:14,signal:12,signifi:2,sigterm:14,simpl:[0,6,7],simpli:5,simultan:2,singl:2,so:[2,14,15],softwar:[4,13],solut:4,some:[6,12,15],someth:6,sourc:[0,2,8,12,13,14,17],sourcebot:0,specif:[2,3,14],specifi:[5,17],sphinx:6,spuriou:[3,12],srv4:0,ssid:8,stage:10,standalon:10,standard:[4,5,6],start:[0,3,4,8,14],startup:12,state:[2,3,7,10,11,12,13,14,16,17],statemanag:15,statement:6,statu:[2,4,12,13,14,15],stderr:14,stdout:14,still:14,stop:[2,8,14,15],stop_hotspot:8,storag:5,store:[8,15,17],str:[2,3,8,12,13,15],stream:4,student:[4,16],style:4,sub:2,submit:6,subprocess:[8,14],subscrib:[2,9,15],success:2,suit:6,superced:0,superclass:10,support:[0,17],system:[0,8,12,16],systemd:[0,17],take:[0,12],target:17,task:[12,14],tcp:2,team_tla:5,technic:3,tell:6,temporari:14,term:3,test:[15,16,17],testament:2,testd:15,testmanag:15,than:4,thei:17,them:12,thi:[0,1,2,6,8,9,12,13,14,15,16,17],though:3,three:2,time:[13,14],tmp:8,tmux:17,toml:[5,17],too:[4,5],topic:2,topic_prefix:17,tradit:17,trigger:14,trueconstraint:12,ts:4,turn:13,tutori:6,type:[3,8,12,13,14,15],udisk:[12,17],udiski:[6,12,17],udisks2:[6,12],ui:[2,4],under:16,understand:7,uniqu:2,unpack:14,up:[8,14,16],updat:[0,4,8,12,14],update_st:12,update_statu:14,upgrad:9,us:[0,2,3,4,5,6,8,12,14,17],usag:[4,7,16],usb:[0,3,4,5,8,14,16],user:[5,17],usercod:[1,8,12,16,17],usercode_entrypoint:13,util:17,uuid:[2,12,14],v:15,valid:[13,14],validate_assign:13,valu:[3,12,13,14],variou:10,verbos:[12,14,15],verifi:14,version:2,via:[8,14],view:6,virtual:6,volum:12,wa:0,wait:[2,13,14,15],wait_loop:15,wamp:0,warn:3,wasp:3,we:[4,6],web:[2,4],websocket:[2,6],were:4,when:[4,12,13,14,15],where:[3,4],whether:13,which:[3,5,12],whilst:15,who:16,wifi:[5,8,13,17],wifi_en:[5,8,13,17],wifi_psk:[5,13],wifi_region:[5,13],wifi_ssid:13,wifihotspotlifecycl:8,wiki:5,wikipedia:5,wireless:4,wish:6,within:[6,14],without:[2,7,8],wlan0:17,work:[0,6],workaround:4,write:[6,14],written:4,x:12,yml:6,you:[6,17],your:6,yourself:6,zip:[5,17],zone:[3,13,17]},titles:["Background","Design","Inter-Process Communication","Metadatas","Design Requirements","Usercode Drives","Development","Command Line Interface","Astwifid","State Consumers","Data Components","Implementation","Astdiskd","Astmetad","Astprocd","State Managers","Astoria","Usage"],titleterms:{"class":[8,12,13,14],"static":6,addit:4,astctl:17,astdiskd:12,astmetad:13,astoria:16,astprocd:14,astwifid:8,background:0,broadcast:2,bundl:5,callback:10,check:6,code:5,command:[7,17],commun:2,compon:10,configur:17,constraint:12,consum:9,content:[1,11],contribut:16,data:[8,10,12,13,14],definit:12,depend:15,design:[1,4],detect:12,develop:6,disk:[12,13],docker:6,document:[6,16],drive:[5,12],event:2,file:5,format:5,herdsman:0,identif:12,implement:11,inter:2,interfac:7,lifecycl:[13,14],line:[7,17],lint:6,list:[9,15],manag:[2,14,15],messag:2,metadata:[3,13,17],minim:15,minimum:4,pepper2:0,process:[2,14],request:2,requir:[4,17],resolut:3,robot:5,run:[6,17],runusb:0,set:[5,6],shepherd:0,sourc:3,state:[9,15],structur:[8,12,13,14],system:17,technic:4,test:6,type:[2,6],unit:6,up:6,usag:17,usb:17,usercod:[5,14]}})